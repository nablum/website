<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Hugo Besnard</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<div id="msg">ðŸŽ¤ Allow microphone access for animation</div>
		<canvas id="canvas"></canvas>

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#" class="icon solid fa-home"><span>Home</span></a>
						<a href="#work" class="icon solid fa-folder"><span>Work</span></a>
						<a href="#contact" class="icon solid fa-envelope"><span>Contact</span></a>
						<!-- <a href="https://github.com/nablum" class="icon brands fa-github"><span>GitHub</span></a> -->
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<header>
									<h1>Hugo Besnard</h1>
									<p>Audio Developer</p>
								</header>
								<a href="#work" class="jumplink pic">
									<!-- <span class="arrow icon solid fa-chevron-right"><span>See my work</span></span> -->
									<img src="images/me.jpg" alt="" />
								</a>
							</article>

						<!-- Work -->
							<article id="work" class="panel">
								<header>
									<h2>Work</h2>
								</header>
								<p>
									I develop and contribute to innovative audio technologies, combining expertise in digital signal processing and embedded systems.
								</p>
								<section>
									<div class="row">
										<div class="col-4 col-6-medium col-12-small">
											<a href="https://eers.ca/" class="image fit"><img src="images/eers.png" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="https://github.com/nablum/inPhase" class="image fit"><img src="images/inPhase.png" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="https://github.com/nablum/pedalSHIELD-MEGA/" class="image fit"><img src="images/pedalSHIELD-MEGA.png" alt=""></a>
										</div>
										<!-- <div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic04.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic05.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic06.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic07.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic08.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic09.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic10.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic11.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic12.jpg" alt=""></a>
										</div> -->
									</div>
								</section>
							</article>

						<!-- Contact -->
							<article id="contact" class="panel">
								<header>
									<h2>Contact Me</h2>
								</header>
								<form action="https://formspree.io/f/mjkvnwqz" method="post">
									<div>
										<div class="row">
											<div class="col-6 col-12-medium">
												<input type="text" name="name" placeholder="Name" />
											</div>
											<div class="col-6 col-12-medium">
												<input type="text" name="email" placeholder="Email" />
											</div>
											<div class="col-12">
												<input type="text" name="subject" placeholder="Subject" />
											</div>
											<div class="col-12">
												<textarea name="message" placeholder="Message" rows="6"></textarea>
											</div>
											<div class="col-12">
												<input type="submit" value="Send Message" />
											</div>
										</div>
									</div>
								</form>
							</article>

					</div>

				<!-- Footer -->
					<!-- <div id="footer">
						<ul class="copyright">
							<li>&copy; Untitled.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div> -->

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

		<!-- Particles -->
		<style>
			body {
			margin: 0;
			height: 100vh;
			background: url("assets/css/images/bg.jpg") no-repeat center center fixed;
			background-size: cover;
			/* overflow: hidden; */
			}
			canvas {
			display: block;
			position: fixed;   /* fixed keeps it full screen */
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 0;        /* behind content */
			pointer-events: none;
			}
			#wrapper {
			position: relative;
			z-index: 5;        /* above canvas */
			}
			#msg {
			position: absolute;
			z-index: 10;       /* above everything */
			top: 20px;
			left: 50%;
			transform: translateX(-50%);
			color: white;
			font-family: sans-serif;
			font-size: 16px;
			background: rgba(0,0,0,0.4);
			padding: 6px 12px;
			border-radius: 8px;
			}
		</style>

		<script>
			const canvas = document.getElementById("canvas");
			const ctx = canvas.getContext("2d");
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			let audioCtx, analyser, dataArray;
			let micEnabled = false;
			let particles = [];

			class Particle {
			constructor(x, y, baseSize, baseOpacity, depth) {
				this.x = x;
				this.y = y;
				this.z = depth; // depth (0.5 = close, 1.5 = far)
				this.baseSize = baseSize * (1.5 - this.z);
				this.size = this.baseSize;
				this.baseOpacity = baseOpacity * (1.5 - this.z);
				this.opacity = this.baseOpacity;

				// Parallax drift speed based on depth
				this.vx = (Math.random() - 0.5) * 0.1 * (2 - this.z) * 2;
				this.vy = (Math.random() - 0.5) * 0.1 * (2 - this.z) * 2;

				// Shimmer settings
				this.shimmerSpeed = Math.random() * 0.02 + 0.005;
				this.shimmerOffset = Math.random() * Math.PI * 2;
				this.time = 0;
			}

			update(volume) {
				// Drift slowly with parallax effect
				this.x += this.vx;
				this.y += this.vy;

				// Wrap edges
				if (this.x < 0) this.x = canvas.width;
				if (this.x > canvas.width) this.x = 0;
				if (this.y < 0) this.y = canvas.height;
				if (this.y > canvas.height) this.y = 0;

				// Volume-driven size (if mic active)
				if (micEnabled) {
				this.size = this.baseSize + volume * 0.1 * (2 - this.z);
				} else {
				// Random glow if no mic
				this.size = this.baseSize + Math.sin(Date.now() * 0.001 + this.shimmerOffset) * 0.5;
				}

				// Prevent negative or zero sizes
				if (this.size < 0.1) this.size = 0.1;

				// Shimmer opacity
				this.time += this.shimmerSpeed;
				let shimmer = (Math.sin(this.time + this.shimmerOffset) + 1) / 2;
				this.opacity = this.baseOpacity * (0.5 + shimmer * 0.5);
			}

			draw() {
				ctx.beginPath();
				ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);

				// Glow for close particles
				if (this.z < 0.9) {
				ctx.shadowBlur = 30 * (1.2 - this.z);
				ctx.shadowColor = `rgba(255,255,255,${this.opacity * 1.5})`;
				} else {
				ctx.shadowBlur = 10; 
				ctx.shadowColor = `rgba(255,255,255,${this.opacity * 0.8})`;
				}


				ctx.fillStyle = `rgba(255,255,255,${this.opacity})`;
				ctx.fill();
				ctx.shadowBlur = 0;
			}
			}

			function createParticles(num) {
			particles = [];
			for (let i = 0; i < num; i++) {
				let size = Math.random() * 3 + 2;
				let x = Math.random() * canvas.width;
				let y = Math.random() * canvas.height;
				let opacity = Math.random() * 0.5 + 0.3;
				let depth = Math.random() * 1 + 0.5;
				particles.push(new Particle(x, y, size, opacity, depth));
			}
			}

			function animate() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			let volume = 0;
			if (micEnabled && analyser) {
				analyser.getByteFrequencyData(dataArray);
				volume = dataArray.reduce((a, b) => a + b, 0) / dataArray.length;
			}

			particles.forEach(p => {
				p.update(volume);
				p.draw();
			});

			requestAnimationFrame(animate);
			}

			// Setup microphone or fallback
			async function setupMic() {
			try {
				const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
				audioCtx = new (window.AudioContext || window.webkitAudioContext)();
				analyser = audioCtx.createAnalyser();
				analyser.fftSize = 256;
				dataArray = new Uint8Array(analyser.frequencyBinCount);

				const source = audioCtx.createMediaStreamSource(stream);
				source.connect(analyser);

				micEnabled = true;
				createParticles(300);
				animate();

				document.getElementById("msg").style.display = "none";
			} catch (err) {
				console.warn("Microphone denied, fallback to random glow mode.");
				micEnabled = false;
				createParticles(300);
				animate();
				document.getElementById("msg").style.display = "none";
			}
			}

			setupMic();

			window.addEventListener("resize", () => {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
			createParticles(300);
			});
		</script>

	</body>
</html>